<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeviceBox</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lucide-static@0.321.0/font/lucide.min.css">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-title">
                    <i class="lucide lucide-box"></i>
                    <h1>DeviceBox</h1>
                </div>
                <div class="header-actions">
                    <a href="/settings" class="header-settings-btn" title="Einstellungen">
                        <i class="lucide lucide-settings"></i>
                        <span>Einstellungen</span>
                    </a>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">

            <!-- Big status banner -->
            <section class="status-banner" id="statusBanner">
                <div class="status-banner-icon" id="statusBannerIcon">
                    <i class="lucide lucide-loader"></i>
                </div>
                <div class="status-banner-text">
                    <div class="status-banner-title" id="statusBannerTitle">Wird geladen...</div>
                    <div class="status-banner-subtitle" id="statusBannerSubtitle">Bitte warten</div>
                </div>
            </section>

            <!-- Two-column overview -->
            <div class="overview-grid">
                <!-- Scanner Card -->
                <section class="overview-card">
                    <div class="overview-card-header">
                        <i class="lucide lucide-scan-barcode"></i>
                        <h2>Barcode-Scanner</h2>
                    </div>
                    <div class="overview-card-body">
                        <div class="status-indicator" id="scannerIndicator">
                            <div class="status-dot" id="scannerDot"></div>
                            <span class="status-label" id="scannerLabel">Wird gesucht...</span>
                        </div>
                        <div class="status-detail" id="scannerDetail"></div>
                    </div>
                </section>

                <!-- POS Card -->
                <section class="overview-card overview-card-clickable" onclick="window.location.href='/settings'">
                    <div class="overview-card-header">
                        <i class="lucide lucide-monitor-smartphone"></i>
                        <h2>Kassensystem</h2>
                        <i class="lucide lucide-chevron-right overview-card-arrow"></i>
                    </div>
                    <div class="overview-card-body">
                        <div class="status-indicator" id="posIndicator">
                            <div class="status-dot" id="posDot"></div>
                            <span class="status-label" id="posLabel">Wird geladen...</span>
                        </div>
                        <div class="status-detail" id="posDetailText"></div>
                    </div>
                </section>
            </div>

            <!-- System info row -->
            <section class="system-info-row">
                <div class="system-info-item">
                    <i class="lucide lucide-cpu"></i>
                    <span class="system-info-label">Geraet</span>
                    <span class="system-info-value" id="deviceName">--</span>
                </div>
                <div class="system-info-item">
                    <i class="lucide lucide-tag"></i>
                    <span class="system-info-label">Version</span>
                    <span class="system-info-value" id="appVersion">--</span>
                </div>
                <div class="system-info-item" id="watchtowerItem">
                    <i class="lucide lucide-refresh-cw"></i>
                    <span class="system-info-label">Auto-Update</span>
                    <span class="system-info-value" id="watchtowerStatus">--</span>
                </div>
            </section>

            <!-- Activity Log (collapsed by default) -->
            <section class="log-section">
                <button class="log-toggle" onclick="toggleLog()" id="logToggle">
                    <i class="lucide lucide-terminal"></i>
                    <span>Systemprotokoll</span>
                    <i class="lucide lucide-chevron-down" id="logChevron"></i>
                </button>
                <div class="log-container" id="logContainer" style="display: none;">
                    <div class="log-empty">Noch keine Eintraege</div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <span>DeviceBox IoT Gateway</span>
            <span class="footer-sep">|</span>
            <span id="footerVersion">--</span>
        </footer>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
